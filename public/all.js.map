{"version":3,"sources":["AddEditComponent.js","AppComponent.js","ControlComponent.js","MapComponent.js","ShowAllComponent.js","TestComponent.js","router.js"],"names":["window","AL","undefined","AddEditComponent","state","editMode","styles","tagMode","ControlObject","registerCallback","setState","lastAdded","sendData","console","log","cbSuccess","cbFail","props","location","pathname","includes","getStructById","params","sId","resetControl","ReactRouter","hashHistory","push","tag","value","length","setStyleTags","evt","preventDefault","encodePic","encodeURIComponent","picInput","inputs","title","nameInput","type","typeInput","year","yearInput","arch","archInput","street","streetInput","cityState","cityInput","country","countryInput","pic","description","descriptionInput","editItem","addItem","review","fields","name","city","picUrl","error","stat","input","styleInput","addStyleTag","validateStructure","sendToViewer","React","Component","ReviewData","info","warning","JSON","stringify","AppComponent","testBar","children","mapMarkers","locationObjects","callbacks","cb","callbacksEdit","forEach","getAll","$","ajax","url","method","dataType","done","data","fail","itemId","req","err","deleteItem","tags","mapFilterResults","query","mapOneItem","mapData","locations","markers","defaultView","lat","lng","mapZoom","MapComponent","focus","zoom","infoClass","controlClass","mapClass","showSite","findingOne","locationToGeocoder","geoCode","sites","item","googleMap","google","maps","Map","map","center","marker","Marker","geocoder","Geocoder","ele","handleResults","address","geocode","results","status","GeocoderStatus","OK","setCenter","geometry","position","markMap","addresses","indexOf","filter","mapRef","setMap","contentString","infowindow","InfoWindow","content","addListener","open","setZoom","getPosition","close","controls","deselectSite","height","InfoComponent","generateTags","arr","infoboxTags","MapControlComponent","decodeURIComponent","ShowAllComponent","sitesList","site","index","_id","populateList","sendToNewEditor","SiteViewComponent","tagSite","editLinkId","id","tagOneItem","TestComponent","links","mountNode","document","querySelector","Router","Route","Link","router","ReactDOM","render"],"mappings":"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","file":"all.js","sourcesContent":["if (window.AL === undefined){window.AL = {}; }\n\n(() => {\n\n  class AddEditComponent extends React.Component{\n\n    constructor(){\n      super();\n\n      this.state = {editMode:false,styles:[],tagMode:false};\n\n      AL.ControlObject.registerCallback(() => {\n        this.setState({\n          lastAdded:AL.ControlObject.sendData\n        })\n      });\n\n    console.log('added callbacks', AL.ControlObject.cbSuccess,AL.ControlObject.cbFail);\n\n    }\n    componentWillMount(){\n      console.log('mounting with props, ',this.props);\n      if(this.props.location.pathname.includes('tag')){\n        AL.ControlObject.registerCallback(() => {\n          this.setState({\n            tagMode:true\n          })\n        });\n        AL.ControlObject.getStructById(this.props.params.sId);\n      }\n      else if(this.props.params.sId && !this.state.editMode && !this.state.tagMode){\n        AL.ControlObject.registerCallback(() => {\n          this.setState({\n            editMode:true\n          })\n        });\n        AL.ControlObject.getStructById(this.props.params.sId);\n      }\n      else{\n        console.log('standard add mode');\n      }\n\n    }\n\n    componentWillUnmount(){\n      console.log('unmount');\n      AL.ControlObject.resetControl();\n    }\n\n    sendToViewer(){\n      ReactRouter.hashHistory.push('/test/all');\n    }\n\n    addStyleTag(tag){\n      console.log(\"tag is\", tag.value, 'sId is ',this.props.params.sId);\n      if(tag.value.length > 0){\n        AL.ControlObject.setStyleTags(this.props.params.sId,tag.value);\n        console.log('tagged');\n      }else{\n        console.log('tag failed');\n      }\n\n    }\n\n    validateStructure(evt){\n      evt.preventDefault();\n      console.log(\"state check\", this.state);\n      //validate conditions here\n\n\n\n      // input to control object\n      var encodePic = encodeURIComponent(this.picInput.value);\n      var inputs = {\n        title:this.nameInput.value,\n        type:this.typeInput.value,\n        year:this.yearInput.value,\n        arch:this.archInput.value,\n        street:this.streetInput.value,\n        cityState:this.cityInput.value,\n        country:this.countryInput.value,\n        pic:encodePic,\n        styles:this.state.styles,\n        description:this.descriptionInput.value\n      }\n\n      //edit?\n      console.log('inputs?',inputs);\n      if (this.state.editMode){\n        AL.ControlObject.editItem(this.props.params.sId,inputs);\n      }else{\n        console.log('adding',inputs);\n        AL.ControlObject.addItem(inputs);\n      }\n\n\n    }\n\n    render(){\n      console.log('@render, state set to ', this.state);\n      var review;\n      var fields;\n      //field placeholders\n      var name;\n      var year;\n      var arch;\n      var type;\n      var street;\n      var city;\n      var country;\n      var styles;\n      var description;\n      var picUrl;\n\n      //set placeholders and defaults if editing\n\n      console.log('last added/edit', this.state.lastAdded);\n      if (!this.state.editMode){\n        console.log('generic placeholders');\n         name = \"Name\";\n         year = \"Year of Construction/Completion\";\n         arch = \"Architect/Firm\";\n         type = \"Cultural\";\n         street = \"Street\";\n         city = \"City, State\";\n         country = \"Country\";\n         styles = \"Styles\";\n         description = \"This is a Building, probably\";\n         picUrl = \"add a URL\"\n      }\n      else if(this.state.editMode){\n        console.log('default values');\n        name = this.state.lastAdded.title;\n        year = this.state.lastAdded.year || 'Add Year';\n        arch = this.state.lastAdded.arch;\n        type = this.state.lastAdded.type;\n        city = this.state.lastAdded.cityState;\n        street = this.state.lastAdded.street;\n        country = this.state.lastAdded.country;\n        styles = this.state.lastAdded.styles || \"no style\";\n        picUrl = this.state.lastAdded.pic;\n        description = this.state.lastAdded.description;\n      }\n      if(this.state.error){\n        review = <ReviewData warning={this.state.error,this.state.stat} />\n      }\n      if(this.state.lastAdded){\n        review = <ReviewData info={this.state.lastAdded} />\n        console.log('returned data in state', this.state.lastAdded);\n      }\n\n\n      if(this.state.tagMode){\n        fields = <div>\n          <hr/>\n          <h4>Styles</h4>\n          <div className=\"styletags\">Adding StyleTags {this.state.styles}</div>\n          <input ref={(input)=>{this.styleInput = input}} />\n          <div className=\"nav-button\" onClick={() => {this.addStyleTag(this.styleInput)}}>Add</div>\n        </div>\n      }else{\n\n       fields = (\n        <form onSubmit = {(evt) => {this.validateStructure(evt)}}>\n          <h4>Details</h4>\n          <input defaultValue={name}  placeholder={name} ref={(input) => {this.nameInput = input}}/>\n          <input defaultValue={year} placeholder={year} ref={(input) => {this.yearInput = input}}/>\n          <input defaultValue={arch} placeholder={arch} ref={(input) => {this.archInput = input}}/>\n\n          <hr/>\n          <h4>Categories</h4>\n          <select defaultValue={type} ref={(input) => {this.typeInput = input}}>\n            <option value=\"cultural\">Cultural</option>\n            <option value=\"civic\">Civic</option>\n            <option value=\"residential\">Residential</option>\n            <option value=\"industrial\">Industrial</option>\n            <option value=\"commercial\">Commercial</option>\n            <option value=\"infrastructural\">Infrastructural</option>\n          </select>\n          <hr/>\n\n          <h4>Location</h4>\n          <input defaultValue={street} placeholder={street} ref={(input) => {this.streetInput = input}}/>\n          <input defaultValue={city} placeholder={city} ref={(input) => {this.cityInput = input}}/>\n          <input defaultValue={country} placeholder={country} ref={(input) => {this.countryInput = input}}/>\n\n          <hr/>\n\n          <h4>Description</h4>\n          <textfield placeholder={description} defaultValue={description} ref={(input) => {this.descriptionInput = input}}/>\n\n\n\n          <hr/>\n          <h4>Image</h4>\n          <input defaultValue=\"add a URL\" ref={(input)=>{this.picInput = input}}/>\n\n          <button>Add</button>\n        </form>);\n      }\n\n\n\n      //set placeholders and defaults if editing\n      if(this.state){\n        console.log('last added/edit', this.state.lastAdded);\n        if(this.state.lastAdded){\n          review = <ReviewData info={this.state.lastAdded} />\n          if(this.state.editMode === true){\n            name = this.state.lastAdded.title;\n            year = this.state.lastAdded.year || 'Add Year';\n            arch = this.state.lastAdded.arch;\n            type = this.state.lastAdded.type;\n            city = this.state.lastAdded.cityState;\n            street = this.state.lastAdded.street;\n            country = this.state.lastAdded.country;\n            styles = this.state.lastAdded.styles || \"no style\";\n            picUrl = this.state.lastAdded.pic;\n            description = this.state.lastAdded.description;\n          }\n\n\n          console.log('returned data in state', this.state.lastAdded);\n        }\n        if(this.state.error){\n          review = <ReviewData warning={this.state.error,this.state.stat} />\n        }\n\n      }\n\n\n      return (<div>\n          <div className='add-structure'>\n          <div className='panel-header'>\n            <h3 className= \"left\">Add Structure</h3>\n            <div className = \"nav-button view right\" onClick={() => {this.sendToViewer()}}> Show All </div>\n          </div>\n          {fields}\n\n        </div>\n      {review}\n      </div>)\n    }\n    //Type and Style should be set to select/dropdown list\n  }\n  //end of EditorComponent\n\n  class ReviewData extends React.Component {\n    constructor(){\n      super();\n\n    }\n    componentDidMount(){\n      console.log('review props',this.props)\n    }\n\n    render(){\n\n      var info;\n\n      if (this.props.warning){\n        console.log(this.props.warning);\n        info = \"Error \", this.props.warning;\n      }\n\n      if (this.props.info && !this.props.warning){\n        info = <ol>\n          <li>Name: {this.props.info.title} </li>\n          <li>Year: {this.props.info.year} </li>\n          <li>Arch: {this.props.info.arch} </li>\n          <li>Type: {this.props.info.type} </li>\n          <li>Street: {this.props.info.street} </li>\n          <li>City: {this.props.info.cityState} </li>\n          <li>Country: {this.props.info.country} </li>\n          <li>Styles: {JSON.stringify(this.props.info.styles)} </li>\n        </ol>\n\n      }\n\n      return (<div className='review add-structure'>\n          <h4> Saved... </h4>\n          {info}\n      </div>)\n    }\n\n  }\n  AL.ReviewData = ReviewData;\n  AL.AddEditComponent = AddEditComponent;\n})();\n","if (window.AL === undefined) {window.AL = { }; }\n\n(function() {\n\n\n  class AppComponent extends React.Component {\n    render() {\n      console.log('rendering app component');\n\n      var testBar = (<div className = \"top-bar nav\">\n        <ul>\n          <li><ReactRouter.Link className=\"link\" to={\"/map\" }>Map</ReactRouter.Link></li>\n          <li><ReactRouter.Link className=\"link\" to={'/test'\n        }>Admin/Testing</ReactRouter.Link></li>\n        </ul>\n      </div>)\n\n      return( <div className='app-component'>\n\n        <div className=\"component-header\">\n          <div className=\"title\">\n            <h1>ArchiType &apos;97</h1>\n            <p><i>How Much does your Building Weigh?</i></p>\n          </div>\n          {testBar}\n        </div>\n        {this.props.children}\n      </div>);\n    }\n  }\n\n  AL.AppComponent = AppComponent;\n}());\n","if (window.AL === undefined){window.AL = {}; }\n\n(() => {\n  var ControlObject;\n  var sendData;\n\n  window.AL.ControlObject = {\n    mapMarkers:[],\n    locationObjects:[],\n    sendData: sendData,\n    callbacks: [],\n    registerCallback: function(cb){\n      this.callbacks.push(cb);\n    },\n    callbacksEdit: function(){\n      this.callbacks.forEach((cb) => {\n        console.log(\"this.sendData\",this.sendData);\n        cb();\n        console.log('callback');\n      })\n    },\n    resetControl: function(){\n      this.callbacks = [];\n      this.sendData = {};\n    },\n\n    getAll:function(){\n      console.log('gettin everything');\n      //api get all\n      $.ajax({\n        url: '/api/sites',\n        method: 'GET',\n        dataType: 'JSON'\n      })\n      .done((data)=> {\n        console.log(\"done, recieved: \\n \",data, \"type of\", typeof data);\n        this.sendData = data;\n        this.locationObjects = data;\n        console.log('get done.');\n        this.callbacksEdit();\n        console.log('grabbd everything',data);\n      })\n      .fail(()=>{\n        console.log('cant get');\n      })\n    },//end of get all\n\n    getStructById: function(itemId){\n\n      $.ajax({\n        url:'/api/sites/' + itemId,\n        method:'GET',\n        dataType:'JSON',\n      })\n      .done((data)=>{\n        console.log(\"found \", data);\n        this.sendData = data;\n        this.callbacksEdit();\n        console.log('control callbacks test, callbacks are done ',this.callbacks);\n      })\n      .fail((req,stat,err)=>{\n        console.log('failed to get req,', req);\n        this.sendData = (req,stat,err);\n        this.callbacksEdit();\n        //??\n      })\n    },\n    deleteItem: function(itemId){\n\n      $.ajax({\n        url:'/api/sites/' + itemId +\"/delete\",\n        method: 'DELETE',\n        dataType:'JSON'\n      })\n      .done((data) => {\n        console.log('callbacksEdit',this.callbacksEdit);\n        console.log('deleted, ',data);\n        this.sendData = data;\n        this.callbacksEdit();\n\n      })\n      .fail((req,stat,err) => {\n        console.log('delete failure');\n        this.sendData = (req,stat,err);\n        this.callbacksEdit();\n      });\n    },//end of delete\n    addItem: function(inputs){\n      //test\n      console.log(\"sending...\", inputs);\n\n      //api POST NEW\n      $.ajax({\n        url: '/api/sites',\n        method: 'POST',\n        dataType: 'JSON',\n        data:{\n          title:inputs.title,\n          type:inputs.type,\n          year:inputs.year,\n          arch:inputs.arch,\n          street:inputs.street,\n          cityState:inputs.cityState,\n          country:inputs.country,\n          pic:inputs.pic,\n          styles:inputs.styles,\n          description:inputs.description\n        }\n\n      })\n        .fail((req,stat,error)=>{\n          // window.alert('no');\n          console.log('request unsucessful');\n          console.log(\"req\",req);\n          console.log(\"stat\",stat);\n          console.log(\"err\",error);\n          this.sendData = (req,stat,error);\n          this.callbacksEdit();\n        })\n        .done((data)=>{\n          console.log('request successful');\n          console.log('data: ',data);\n          this.sendData = data;\n          this.callbacksEdit();\n\n        })\n      },//end of addItem\n      editItem: function(itemId,inputs){\n\n        $.ajax({\n          url: '/api/sites/' + itemId + '/edit',\n          method:'PUT',\n          dataType:'JSON',\n          data:{\n            title:inputs.title,\n            type:inputs.type,\n            year:inputs.year,\n            arch:inputs.arch,\n            street:inputs.street,\n            cityState:inputs.cityState,\n            country:inputs.country,\n            pic:inputs.pic,\n            styles:inputs.styles,\n            description:inputs.description\n          }\n        })\n        .fail((req,stat,error)=>{\n          // window.alert('no');\n          console.log('request unsucessful');\n          console.log(\"req\",req);\n          console.log(\"stat\",stat);\n          console.log(\"err\",error);\n          this.sendData = (req,stat,err);\n          this.callbacksEdit();\n        })\n        .done((data)=>{\n          console.log('request successful');\n          console.log('data: ',data);\n          this.sendData = data;\n          this.callbacksEdit();\n\n        })\n      },//end of editor\n      setStyleTags: function(itemId,tags){\n        console.log('set tags of ',itemId,' to ',tags)\n        $.ajax({\n          url:'/api/sites/'+itemId+'/tag',\n          method:'PUT',\n          dataType:'JSON',\n          data:{\n            styles:tags\n          }\n        })\n        .fail((req,stat,error)=>{\n          // window.alert('no');\n          console.log('request unsucessful');\n          console.log(\"req\",req);\n          console.log(\"stat\",stat);\n          console.log(\"err\",error);\n          this.sendData = (req,stat,err);\n          this.callbacksEdit();\n        })\n        .done((data)=>{\n          console.log('request successful');\n          console.log('data: ',data);\n          this.sendData = data;\n          this.callbacksEdit();\n\n        })\n      },\n      mapFilterResults: function(query,type){\n\n\n\n      },//end of typefilter\n      mapOneItem: function(itemId){\n\n        $.ajax({\n          url:'/api/sites/' + itemId + '/view-map',\n          method:'GET',\n          dataType:'JSON',\n        })\n        .done((data)=>{\n          console.log(\"found \", data);\n          ReactRouter.hashHistory.push('/map/view-one/'+ itemId);\n          // this.sendData = data;\n          // this.callbacksEdit();\n        })\n        .fail((req,stat,err)=>{\n          console.log('failed to get req,', req);\n          this.sendData = (req,stat,err);\n          this.callbacksEdit();\n          //??\n        })\n\n      },//end of map one view\n\n      //end of geocode 1\n      // locationToList: function(data){\n      //   console.log('list/geo called',data);\n      //   data.forEach(item =>{\n      //     console.log('hey its,', item);\n      //     AL.MapComponent.locationToGeocoder(item);\n      //     this.locationObjects.push(item);\n      //   })\n      // }\n    } //end of control object\n  }\n)();\n","if (window.AL === undefined){window.AL = {}; }\n\n(() => {\n  var mapData;\n  window.AL.mapData = {\n    locations:[],\n    markers:[],\n    defaultView: {lat:15,lng:-80},\n    mapZoom: 14\n  }\n})();\n\n(() => {\n\n\n  class MapComponent extends React.Component{\n\n    constructor(){\n      super();\n\n      this.state = {\n        focus: AL.mapData.defaultView,\n        zoom: AL.mapData.mapZoom,\n        infoClass:'oof',\n        controlClass:'low inactive',\n        mapClass:'center',\n        showSite:null,\n        findingOne:false,\n        tag:'none'\n      }\n      var locationToGeocoder;\n      var geoCode;\n\n    }\n\n\n\n    componentWillMount(){\n      if(this.props.params.sId){\n        console.log('only,', this.props.params.sId);\n        this.setState({\n          findingOne:true\n        })\n        AL.ControlObject.registerCallback(()=>{\n          AL.mapData.locations.push(AL.ControlObject.sendData);\n        })\n      }else{\n        console.log('showing maximum stuff');\n        console.log('fill mapdata locations list with',AL.ControlObject.sendData);\n        AL.ControlObject.registerCallback(()=>\n         AL.ControlObject.sendData.sites.forEach(item => {\n          AL.mapData.locations.push(item);\n        }))\n      }\n\n\n\n      //moves control data to list\n      AL.ControlObject.registerCallback(()=>this.locationToGeocoder(AL.mapData.locations));\n      //registers callback to geocode (then locate and mark) points of interest\n    }\n\n\n\n    componentDidMount() {\n      this.googleMap = new google.maps.Map(this.map, {\n        center: this.state.focus,\n        zoom: this.state.zoom\n      });\n\n      this.marker = new google.maps.Marker({\n        lat: 30,\n        lng: 30\n      });\n\n      this.geocoder = new google.maps.Geocoder();\n\n      if(!this.state.findingOne){\n        AL.ControlObject.getAll();\n      }else{\n        AL.ControlObject.getStructById(this.props.params.sId)\n      }\n\n      //sets mapdata locations and triggers callback to run geo+location\n      console.log(this.map,this.geocoder);\n\n    }\n\n    componentWillUnmount(){\n      AL.ControlObject.resetControl();\n    }\n\n    //defaults\n\n    deselectSite(evt,ele){\n      console.log('evt ',evt,' ele ',ele);\n      this.setState({\n        showSite:null,\n        infoClass:'oof',\n        controlClass:'low inactive',\n        mapClass:'center'\n      })\n    }\n    //master close\n\n    geoCode(itemId,map){\n      var handleResults;\n      //check for item id or obj\n      console.log('GEOCODE',itemId);\n      var address = itemId.street + \" \" + itemId.cityState + \" \" + itemId.country;\n      this.geocoder.geocode({'address':address}, handleResults = (results,status)=>{\n        if (status === google.maps.GeocoderStatus.OK){\n          console.log('geo code this check',this.map);\n          this.googleMap.setCenter(results[0].geometry.location);\n          var marker = new google.maps.Marker({\n            position: (results[0].geometry.location),\n            title:itemId.title\n          });\n\n          this.markMap(this.googleMap,marker,itemId);\n          return;\n        }\n        return;\n      })\n    }\n\n    locationToGeocoder(locations){\n      var addresses;\n      if(this.state.tag == 'none'){\n        addresses = locations;\n        console.log('locationToGeocoder says this is',addresses);\n          addresses.forEach(address => {\n             if( AL.mapData.markers.indexOf(address)<0){\n              this.geoCode(address,this.map);\n            }\n          })\n      }else{\n        let addresses = locations.filter(addresses => addresses.styles.includes(this.state.tag))\n        addresses.forEach(address =>{\n          if (AL.mapData.markers.indexOf(address)<0){\n            this.geoCode(address,this.map);\n          }\n        })\n      }\n\n\n    }\n\n    //^^ Test Geocode\n\n    markMap(mapRef,marker,item){\n\n      marker.setMap(mapRef);\n\n\n      var contentString = '<div id=\"content\">'+\n        '<div class=\"infobox-title\">'+\n        item.title + '</div>'+\n        '<div class=\"infobox-arch\">' + item.arch + '</div>'+\n      '</div>';\n\n      var infowindow = new google.maps.InfoWindow({\n       content: contentString\n      });\n      console.log(infowindow, \"infowindow\");\n      //make infowindow\n\n\n\n      //Check for service\n\n     marker.addListener('click', () => {\n       infowindow.open(this.map, marker);\n       this.setState({\n         showSite:item,\n         infoClass:'aif',\n         controlClass:'low',\n         mapClass:'two-thirds-map'\n       })\n       mapRef.setZoom(18);\n       mapRef.setCenter(marker.getPosition());\n     });\n     mapRef.addListener('click',()=>{\n       infowindow.close(this.map,marker);\n       this.setState({\n         showSite:null,\n         infoClass:'oof',\n         controlClass:'low inactive',\n         mapClass:'center'\n       })\n       mapRef.setZoom(AL.mapData.mapZoom)\n     });\n\n     AL.mapData.markers.push(marker);\n\n\n     if(this.state.findingOne ===true){\n       console.log('and its..,', this.props.params.sId);\n\n       mapRef.setCenter(marker.getPosition());\n       infowindow.open(this.map,marker);\n       this.setState({\n         showSite:item,\n         infoClass:'aif',\n         mapClass:'two-thirds-map'\n       })\n\n     }\n     return;\n    }\n\n    selectFocus(sId){\n      console.log(AL.mapData.markers);\n\n      //test^\n    }\n\n    render(){\n      console.log('render state', this.state);\n\n      var mapClass = \"map-pane \" + this.state.mapClass\n      var infoClass = \"info-pane \" + this.state.infoClass;\n      var controlClass = \"control-pane-\" + this.state.controlClass;\n\n      var info = '';\n      var controls = '';\n\n      if(this.state.showSite !== null){\n        info= <InfoComponent showSite={this.state.showSite}/>\n        controls = <MapControlComponent showSite={this.state.showSite}/>\n      }\n\n\n\n      return (<div id=\"map-component\">\n\n        <div className=\"component-inner\">\n          <div className={infoClass}>\n            <div className = \"close\" onClick={(evt)=>{this.deselectSite(evt)}}>X</div>\n          {info}\n          </div>\n          <div className={mapClass} ref={(map) =>\n            { this.map = map; }} style={{height: '440px'}}>\n          </div>\n          <div className={controlClass}>\n          {controls}\n          </div>\n        </div>\n      </div>);\n    }\n  }\n\n  class InfoComponent extends React.Component{\n\n    constructor(){\n      super();\n      var generateTags;\n  \n    }\n    componentWillMount(){\n      this.setState({\n        info:this.props.showSite,\n        tags:this.props.showSite.styles\n      })\n\n    }\n\n    generateTags(arr){\n      var infoboxTags;\n      arr.map(tag => {\n        <li>tag</li>\n      })\n      infoboxTags = arr;\n      return infoboxTags;\n    }\n\n    render(){\n      console.log(\"InfoComponent showing \", this.state.info,this.state.tags);\n\n      var tags = this.generateTags(this.state.tags);\n\n      return (<div className=\"info-box\">\n\n        <div className=\"info-box-text\">\n          <ol>\n           <li><h4>{this.state.info.title}</h4> </li>\n           <li>{this.state.info.street}, {this.state.info.cityState},\n              {this.state.info.country}, </li>\n           <li className='info-type'>{this.state.info.type} </li>\n           <li>{this.state.info.year} </li>\n           <li>{this.state.info.arch} </li>\n         </ol>\n        <div className=\"info-box-tags\">\n          <ul>\n            {tags}\n          </ul>\n        </div></div>\n      </div>)\n    }\n\n  }\n\n  class MapControlComponent extends React.Component{\n\n    componentWillMount(){\n      if (this.props.showSite){\n        this.setState({\n          info:this.props.showSite\n        })\n      }\n\n    }\n\n    render(){\n      console.log('controlbox state: ',this.state,' img ',this.state.info.pic);\n      return(<div className=\"controlbox-content\">\n         <div className=\"mapview-image\">\n           <img src={decodeURIComponent(this.state.info.pic)}/>\n        </div>\n        <div className=\"mapview-desc\">\n          <p>{this.state.info.description || \"Stuff here\"}</p>\n        </div>\n      </div>)\n    }\n  }\n\n  AL.MapComponent = MapComponent;\n\n})();\n","if (window.AL === undefined){window.AL = {}; }\n\n(function() {\n\n  class ShowAllComponent extends React.Component{\n\n    constructor() {\n      super();\n      this.state = {\n        sites:[]\n      }\n    }\n\n    componentDidMount(){\n      AL.ControlObject.registerCallback(() => {\n        this.setState({\n          sites:AL.ControlObject.sendData.sites\n        });\n      });\n\n    }\n\n    componentWillUnmount(){\n      AL.ControlObject.resetControl();\n    }\n\n    populateList(){\n      //reset\n\n      AL.ControlObject.getAll();\n\n    }\n\n    sendToNewEditor(){\n      ReactRouter.hashHistory.push('/test/asd');\n    }\n\n    render(){\n      var sitesList;\n      console.log(this.state.sites);\n      if (this.state.sites && this.state.sites.length > 0){\n\n      sitesList = this.state.sites.map((site,index) =>{\n          return <div className='site-info-box' key={index}>\n               <SiteViewComponent key={site._id} info={site} del={this.deleteItem}/>\n             </div>\n        });\n      }\n\n\n      return(\n        <div className = 'sites-view'>\n          <div className = \"button load\" onClick={() => {this.populateList()}}> LOAD </div>\n          <div className = \"button load new\" onClick={() => {this.sendToNewEditor()}}> ADD </div>\n          <div className = \"info-boxes-container\">\n            <ol>\n              {sitesList}\n            </ol>\n          </div>\n\n        </div>\n      );\n\n    }\n\n  };\n\n  class SiteViewComponent extends React.Component{\n\n    constructor(){\n      super();\n\n    }\n    componentDidMount(){\n      console.log(this,'viewbox mounted');\n\n      this.setState(\n        {\n          info:this.props.info\n        }\n      )\n    }\n    componentWillUnmount(){\n      console.log(this,'viewbox unmount');\n      AL.ControlObject.resetControl();\n    }\n\n    tagOneItem(tagSite){\n      console.log('sending to editor to tag ',tagSite);\n      ReactRouter.hashHistory.push('/test/asd/'+tagSite+'/tag');\n    }\n\n    render(){\n      var editLinkId;\n\n      if(this.state && this.state.info.id){\n        editLinkId = this.state.info.id;\n      }\n\n      return (<div className=\"site-inner-box\">\n        <div className=\"site-info\">\n          <ol>\n            <li>{this.props.info.id}</li>\n            <li>{this.props.info.title}</li>\n            <li>{this.props.info.year}</li>\n            <li>{this.props.info.arch}</li>\n            <li>{this.props.info.type}</li>\n            <li>{this.props.info.street}</li>\n            <li>{this.props.info.city}</li>\n            <li>{this.props.info.country}</li>\n            <li>{this.props.info.styles}</li>\n          </ol>\n        </div>\n\n        <div className = \"site-controls\">\n          <div className = \"button\" onClick={() =>\n            {AL.ControlObject.deleteItem(this.state.info.id)}}>delete</div>\n          <div className = \"button\">\n           <ReactRouter.Link className=\"link\" to={\"/test/asd/\"+ editLinkId + \"/edit\" }>edit</ReactRouter.Link>\n          </div>\n          <div className = \"button\" onClick={() =>\n            {this.tagOneItem(this.state.info.id)}}>tag\n          </div>\n          <div className = \"button\" onClick={() =>\n            {AL.ControlObject.mapOneItem(this.state.info.id)}}>view\n          </div>\n        </div>\n      </div>)\n\n    }\n\n\n  }\n\n  AL.SiteViewComponent = SiteViewComponent;\n  AL.ShowAllComponent = ShowAllComponent;\n})();\n","if (window.AL === undefined){window.AL = {}; }\n\n(function() {\n\n  class TestComponent extends React.Component{\n    constructor(){\n      super();\n    }\n    onComponentMount(){\n\n    }\n\n    render(){\n      var links = (<ol>\n       <li><ReactRouter.Link className=\"link\" to={\"/test/asd\" }>Add</ReactRouter.Link></li>\n       <li><ReactRouter.Link className=\"link\" to={'/test/all'}>Show Collection</ReactRouter.Link></li>\n      </ol>)\n      return (<div className='admin-test'>\n        <h3>This is the place where you can break everything</h3>\n        {links}\n      </div>)\n    }\n  }\n\n  AL.TestComponent = TestComponent;\n\n}());\n","if (window.AL === undefined) {window.AL = {};}\n\n(function() {\n\n    var mountNode = document.querySelector('#react-root');\n\n    var Router = ReactRouter.Router;\n    var Route = ReactRouter.Route;\n    var Link = Router.Link;\n\n    var router = <Router history={ReactRouter.hashHistory}>\n      <Route path=\"/\" component={AL.AppComponent}>\n        ReactRouter.IndexRoute component={AL.MapComponent} />\n        <Route path=\"/map\" component={AL.MapComponent} />\n        <Route path=\"/map/view-one/:sId\" component={AL.MapComponent}/>\n        <Route path=\"/test\" component={AL.TestComponent} />\n        <Route path=\"/test/asd\" component={AL.AddEditComponent} />\n        <Route path=\"/test/asd/:sId/edit\" component={AL.AddEditComponent} />\n        <Route path=\"/test/asd/:sId/tag\" component={AL.AddEditComponent}/>\n        <Route path=\"/test/all\" component={AL.ShowAllComponent} />\n      </Route>\n    </Router>;\n\nReactDOM.render(router, mountNode);\n\n\n}());\n"]}