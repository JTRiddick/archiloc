{"version":3,"sources":["AddEditComponent.js","AppComponent.js","ControlComponent.js","MapComponent.js","ShowAllComponent.js","TestComponent.js","router.js"],"names":["window","AL","undefined","AddEditComponent","state","editMode","ControlObject","registerCallback","setState","lastAdded","sendData","console","log","cbSuccess","cbFail","props","params","sId","getStructById","resetControl","evt","preventDefault","inputs","title","nameInput","value","type","typeInput","year","yearInput","arch","archInput","street","streetInput","city","cityInput","country","countryInput","editItem","addItem","review","fields","name","error","validateStructure","input","React","Component","ReviewData","info","warning","JSON","stringify","AppComponent","children","callbacks","cb","push","callbacksEdit","forEach","itemId","$","ajax","url","method","dataType","done","data","fail","req","stat","err","deleteItem","MapComponent","ShowAllComponent","sites","populateList","sheds","sitesList","map","site","index","_id","SiteViewComponent","editLinkId","id","TestComponent","mountNode","document","querySelector","Router","ReactRouter","Route","Link","router","hashHistory","ReactDOM","render"],"mappings":"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","file":"all.js","sourcesContent":["if (window.AL === undefined){window.AL = {}; }\n\n(function() {\n\n\n  class AddEditComponent extends React.Component{\n\n\n    constructor(){\n      super();\n\n      this.state = {editMode:false};\n\n      AL.ControlObject.registerCallback(() => {\n        this.setState({\n          lastAdded:AL.ControlObject.sendData\n        })\n      });\n\n    console.log('added callbacks', AL.ControlObject.cbSuccess,AL.ControlObject.cbFail);\n\n    }\n    componentWillMount(){\n      console.log('mounting with params, ',this.props.params);\n      if(this.props.params.sId && !this.state.editMode){\n        this.setState({\n          editMode:true\n        })\n        AL.ControlObject.getStructById(this.props.params.sId);\n      }\n\n    }\n\n    componentWillUnmount(){\n      console.log('unmount');\n      AL.ControlObject.resetControl();\n    }\n\n\n    validateStructure(evt){\n      evt.preventDefault();\n      console.log(\"state check\", this.state);\n      //validate conditions here\n\n      // this.submitStructure(evt);\n\n      // input to control object\n      var inputs = {\n        title:this.nameInput.value,\n        type:this.typeInput.value,\n        year:this.yearInput.value,\n        arch:this.archInput.value,\n        street:this.streetInput.value,\n        city:this.cityInput.value,\n        country:this.countryInput.value,\n      }\n\n      //edit?\n      console.log('inputs?',inputs);\n      if (this.state.editMode){\n        AL.ControlObject.editItem(this.props.params.sId,inputs);\n      }else{\n        AL.ControlObject.addItem(inputs);\n      }\n\n\n    }\n\n    render(){\n      console.log('@render, state set to ', this.state);\n      var review;\n      var fields;\n\n      //field placeholders\n      var name = \"Name\";\n      var year = \"Year of Construction/Completion\";\n      var arch = \"Architect/Firm\";\n      var type = \"Cultural\";\n      var street = \"Street\";\n      var city = \"City\";\n      var country = \"Country\";\n\n\n\n      if(this.state){\n        console.log('last added/edit', this.state.lastAdded);\n        if(this.state.lastAdded){\n          review = <ReviewData info={this.state.lastAdded} />\n          if(this.state.editMode){\n            name = this.state.lastAdded.title;\n            year = this.state.lastAdded.year || 'Add Year';\n            arch = this.state.lastAdded.arch;\n            type = this.state.lastAdded.type;\n            street = this.state.lastAdded.street;\n            city = this.state.lastAdded.city;\n            country = this.state.lastAdded.country;\n          }\n\n\n          console.log('returned data in state', this.state.lastAdded);\n        }\n        if(this.state.error){\n          review = <ReviewData warning={this.state.error} />\n        }\n\n      }\n\n\n      return (<div>\n          <div className='add-structure'>\n          <h3>Add Structure</h3>\n          <hr />\n\n          <form onSubmit = {(evt) => {this.validateStructure(evt)}}>\n            <h4>Details</h4>\n            <input placeholder={name} ref={(input) => {this.nameInput = input}}/>\n            <input placeholder={year} ref={(input) => {this.yearInput = input}}/>\n            <input placeholder={arch} ref={(input) => {this.archInput = input}}/>\n\n            <hr/>\n            <h4>Categories</h4>\n            <select defaultValue={type} ref={(input) => {this.typeInput = input}}>\n              <option value=\"cultural\">Cultural</option>\n              <option value=\"residential\">Residential</option>\n              <option value=\"industrial\">Industrial</option>\n              <option value=\"commercial\">Commercial</option>\n              <option value=\"infrastructural\">Infrastructural</option>\n            </select>\n            <hr/>\n\n            <h4>Location</h4>\n            <input placeholder={street} ref={(input) => {this.streetInput = input}}/>\n            <input placeholder={city} ref={(input) => {this.cityInput = input}}/>\n            <input placeholder={country} ref={(input) => {this.countryInput = input}}/>\n\n            <button>Add</button>\n          </form>\n\n        </div>\n      {review}\n      </div>)\n    }\n    //Type and Style should be set to select/dropdown list\n  }\n  //end of EditorComponent\n\n  class ReviewData extends React.Component {\n    constructor(){\n      super();\n\n    }\n    componentDidMount(){\n      console.log('review props',this.props)\n    }\n\n    render(){\n\n      var info;\n\n      if (this.props.warning){\n        console.log(this.props.warning);\n        info = \"Error \" + JSON.stringify(this.props.warning);\n      }\n\n      if (this.props.info){\n        info = <ol>\n          <li>Name: {this.props.info.title} </li>\n          <li>Year: {this.props.info.year} </li>\n          <li>Arch: {this.props.info.arch} </li>\n          <li>Type: {this.props.info.type} </li>\n          <li>Street: {this.props.info.street} </li>\n          <li>City: {this.props.info.city} </li>\n          <li>Country: {this.props.info.country} </li>\n        </ol>\n\n      }\n\n      return (<div className='review add-structure'>\n          <h4> Saved... </h4>\n          {info}\n      </div>)\n    }\n\n  }\n  AL.ReviewData = ReviewData;\n  AL.AddEditComponent = AddEditComponent;\n}());\n","if (window.AL === undefined) {window.AL = { }; }\n\n(function() {\n\n\n  class AppComponent extends React.Component {\n    render() {\n      console.log('rendering app component');\n\n      return( <div>\n        <p>This is the React AppComponent</p>\n        {this.props.children}\n      </div>);\n    }\n  }\n\n  AL.AppComponent = AppComponent;\n}());\n","if (window.AL === undefined){window.AL = {}; }\n\n(() => {\n  var ControlObject;\n  var sendData;\n\n  window.AL.ControlObject = {\n    callbacks: [],\n    registerCallback: function(cb){\n      this.callbacks.push(cb);\n    },\n    callbacksEdit: function(){\n      this.callbacks.forEach((cb) => {\n        console.log(\"this.sendData\",this.sendData);\n        cb(this.sendData);\n        console.log('callback');\n      })\n    },\n    resetControl: function(){\n      this.callbacks = [];\n      this.sendData = {};\n    },\n\n    getStructById: function(itemId){\n\n      $.ajax({\n        url:'/api/sheds/' + itemId,\n        method:'GET',\n        dataType:'JSON',\n      })\n      .done((data)=>{\n        console.log(\"found \", data);\n        this.sendData = data;\n        this.callbacksEdit();\n      })\n      .fail((req,stat,err)=>{\n        console.log('failed to get req,', req);\n        this.sendData = (req,stat,err);\n        this.callbacksEdit();\n        //??\n      })\n    },\n    deleteItem: function(itemId){\n\n      $.ajax({\n        url:'/api/sheds/' + itemId +\"/delete\",\n        method: 'DELETE',\n        dataType:'JSON'\n      })\n      .done((data) => {\n        console.log('callbacksEdit',this.callbacksEdit);\n        console.log('deleted, ',data);\n        this.sendData = data;\n        this.callbacksEdit();\n\n      })\n      .fail((req,stat,err) => {\n        console.log('delete failure');\n        this.sendData = (req,stat,err);\n        this.callbacksEdit();\n      });\n    },\n    addItem: function(inputs){\n      //test\n      console.log(\"sending...\", inputs.name, inputs.type);\n\n      //api POST NEW\n      $.ajax({\n        url: '/api/sheds',\n        method: 'POST',\n        dataType: 'JSON',\n        data:{\n          title:inputs.title,\n          type:inputs.type,\n          year:inputs.year,\n          arch:inputs.arch,\n          street:inputs.street,\n          city:inputs.city,\n          country:inputs.country\n        }\n\n      })\n        .fail((req,stat,error)=>{\n          // window.alert('no');\n          console.log('request unsucessful');\n          console.log(\"req\",req);\n          console.log(\"stat\",stat);\n          console.log(\"err\",error);\n          this.sendData = (req,stat,error);\n          this.callbacksEdit();\n        })\n        .done((data)=>{\n          console.log('request successful');\n          console.log('data: ',data);\n          this.sendData = data;\n          this.callbacksEdit();\n\n        })\n      },//end of addItem\n      editItem: function(itemId,inputs){\n\n        $.ajax({\n          url: '/api/sheds/' + itemId + '/edit',\n          method:'PUT',\n          dataType:'JSON',\n          data:{\n            title:inputs.title,\n            type:inputs.type,\n            year:inputs.year,\n            arch:inputs.arch,\n            street:inputs.street,\n            city:inputs.city,\n            country:inputs.country\n          }\n        })\n        .fail((req,stat,error)=>{\n          // window.alert('no');\n          console.log('request unsucessful');\n          console.log(\"req\",req);\n          console.log(\"stat\",stat);\n          console.log(\"err\",error);\n          this.sendData = (req,stat,err);\n          this.callbacksEdit();\n        })\n        .done((data)=>{\n          console.log('request successful');\n          console.log('data: ',data);\n          this.sendData = data;\n          this.callbacksEdit();\n\n        })\n      },//end of editor\n    } //end of control object\n  }\n)();\n","if (window.AL === undefined){window.AL = {}; }\n\n(function() {\n\n  class MapComponent extends React.Component{\n\n    render(){\n\n      return (<div>Map Component</div>);\n    }\n  }\n\n  AL.MapComponent = MapComponent;\n\n}());\n","if (window.AL === undefined){window.AL = {}; }\n\n(function() {\n\n  class ShowAllComponent extends React.Component{\n\n    constructor() {\n      super();\n      this.state = {\n        sites:[]\n      }\n    }\n\n    componentDidMount(){\n      AL.ControlObject.resetControl();\n      AL.ControlObject.registerCallback(() => {\n        this.populateList();\n      });\n\n    }\n\n    populateList(){\n      //reset\n      this.setState({\n        sites:[]\n      })\n\n      //api get all\n      $.ajax({\n        url: '/api/sheds',\n        method: 'GET',\n        dataType: 'JSON'\n      })\n      .done((data)=> {\n        console.log(\"done, recieved: \\n \",data, \"type of\", typeof data);\n        this.setState({\n          sites:data.sheds\n        })\n\n      })\n\n    }\n\n    render(){\n\n      var sitesList;\n\n      if (this.state.sites != []){\n        // sitesList = JSON.stringify(this.state.sites);\n        // ^ test\n        sitesList = this.state.sites.map((site,index) =>{\n          return <div className='site-info-box' key={index}>\n               <SiteViewComponent key={site._id} info={site} del={this.deleteItem}/>\n             </div>\n        });\n      }\n\n\n      return(\n        <div className = 'sites-view'>\n          <div className = \"button load\" onClick={() => {this.populateList()}}> LOAD </div>\n          <div>\n            <ol>\n              {sitesList}\n            </ol>\n          </div>\n\n        </div>\n      );\n\n    }\n\n  };\n\n  class SiteViewComponent extends React.Component{\n\n    constructor(){\n      super();\n\n    }\n    componentDidMount(){\n      console.log(this,'viewbox mounted');\n\n      this.setState(\n        {\n          info:this.props.info\n        }\n      )\n    }\n    componentWillUnmount(){\n      console.log(this,'viewbox unmount');\n      AL.ControlObject.resetControl();\n    }\n\n    render(){\n      var editLinkId;\n\n      if(this.state && this.state.info.id){\n        editLinkId = this.state.info.id;\n      }\n\n      return (<div className=\"site-inner-box\">\n        <div className=\"site-info\">\n          <ol>\n            <li>{this.props.info.id}</li>\n            <li>{this.props.info.title}</li>\n            <li>{this.props.info.year}</li>\n            <li>{this.props.info.arch}</li>\n            <li>{this.props.info.type}</li>\n            <li>{this.props.info.street}</li>\n            <li>{this.props.info.city}</li>\n            <li>{this.props.info.country}</li>\n          </ol>\n        </div>\n\n        <div className = \"site-controls\">\n          <div className = \"button\" onClick={() =>\n            {AL.ControlObject.deleteItem(this.state.info.id)}}>delete</div>\n          <div className = \"button\">\n           <ReactRouter.Link className=\"link\" to={\"/test/asd/\"+ editLinkId + \"/edit\" }>edit</ReactRouter.Link>\n          </div>\n          <div className = \"button\" onClick={() => {console.log(\"This is item ID of ,\",this.state.info.id)}}>view</div>\n        </div>\n      </div>)\n\n    }\n\n\n  }\n\n  AL.SiteViewComponent = SiteViewComponent;\n  AL.ShowAllComponent = ShowAllComponent;\n}());\n","if (window.AL === undefined){window.AL = {}; }\n\n(function() {\n\n  class TestComponent extends React.Component{\n\n    render(){\n\n      return (<div>Test Component</div>)\n    }\n  }\n\n  AL.TestComponent = TestComponent;\n\n}());\n","if (window.AL === undefined) {window.AL = {};}\n\n(function() {\n\n    var mountNode = document.querySelector('#react-root');\n\n    var Router = ReactRouter.Router;\n    var Route = ReactRouter.Route;\n    var Link = Router.Link;\n\n    var router = <Router history={ReactRouter.hashHistory}>\n      <Route path=\"/\" component={AL.AppComponent}>\n        ReactRouter.IndexRoute component={AL.MapComponent} />\n        <Route path=\"/map\" component={AL.MapComponent} />\n        <Route path=\"/test\" component={AL.TestComponent} />\n        <Route path=\"/test/asd\" component={AL.AddEditComponent} />\n        <Route path=\"/test/asd/:sId/edit\" component={AL.AddEditComponent} />\n        <Route path=\"/test/all\" component={AL.ShowAllComponent} />\n      </Route>\n    </Router>;\n\nReactDOM.render(router, mountNode);\n\n\n}());\n"]}